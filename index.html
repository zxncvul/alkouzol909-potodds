<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Outs Trainer Básico</title>
  <link rel="stylesheet" href="style.css">
  <!-- Hoja de estilos adicional con mejoras de memoria, cuenta atrás y otros ajustes -->
  <link rel="stylesheet" href="cssImplementar.css">
  <link rel="icon" href="data:;base64,=">
  <style>
    * {
      font-family: 'GohuMono', monospace !important;
      font-variant-emoji: none;
      font-style: normal;
    }
  </style>
</head>
<body>
  <!-- Pantalla principal del juego -->
  <div id="screen-outs" class="outs-screen">
    <!-- Mensaje dinámico -->
    <div id="combo-global" class="combo-global"></div>

    <!-- Board + Hero -->
    <div class="poker-outs">
      <div class="row">
        <div id="duel-board" class="board"></div>
      </div>
      <div class="row hero-row">
        <!-- Botones izquierda -->
        <div class="btn-wrapper left" style="top:-3%;">
          <span class="btn-label">BoardPlay</span>
          <button class="hero-lock" id="hero-lock">
            <!-- Candado inactivo -->
            <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
              <path d="M7 11V7a5 5 0 0 1 9.9-1"></path>
            </svg>
          </button>
        </div>
        <div class="btn-wrapper left" style="top:30%;">
          <span class="btn-label">TextGuard</span>
          <button class="hero-lock" id="text-lock">
            <!-- Candado inactivo -->
            <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
              <path d="M7 11V7a5 5 0 0 1 9.9-1"></path>
            </svg>
          </button>
        </div>
        <div class="btn-wrapper left" style="top:65%;">
          <span class="btn-label">MagicView</span>
          <button class="hero-eye" id="hero-eye">
            <!-- Ojito inactivo -->
            <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
              <line x1="1" y1="1" x2="23" y2="23"></line>
            </svg>
          </button>
        </div>

        <!-- Mano del héroe -->
        <div id="hero-hand" class="hand"></div>

        <!-- Botones derecha -->
        <div class="btn-wrapper right" style="top:-3%;">
          <button class="hero-config" id="hero-config">
            <!-- Icono de configuración -->
            <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
            </svg>
          </button>
          <span class="btn-label">ConfigBox</span>
        </div>
        <div class="btn-wrapper right" style="top:30%;">
          <button class="hero-capture" id="hero-capture">
            <!-- Icono de cámara -->
            <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>
              <circle cx="12" cy="13" r="4"></circle>
            </svg>
          </button>
          <span class="btn-label">CaptureMe</span>
        </div>
        <div class="btn-wrapper right" style="top:65%;">
          <button class="hero-next" id="hero-next">
            <!-- Icono Next -->
            <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"></circle>
              <polyline points="12 16 16 12 12 8"></polyline>
              <line x1="8" y1="12" x2="16" y2="12"></line>
            </svg>
          </button>
          <span class="btn-label">NextLevel</span>
        </div>
      </div>
    </div>

    <!-- Controles inferiores -->
    <div id="bottom-controls" class="control-bar"></div>

    <!-- Botón de información eliminado de la pantalla principal; el acceso a la información se hace desde Config -->
  </div>

  <!-- Pantalla de configuración -->
  <div id="config-screen" class="outs-screen" style="display:none;">
    <h2>Configuración</h2>
    <!-- Control para activar/desactivar el Turn -->
    <button id="toggle-turn" class="config-btn">Turn: ON</button>
    <!-- Control para activar/desactivar el River -->
    <button id="toggle-river" class="config-btn">River: OFF</button>

    <!-- Botón para acceder a la ayuda desde configuración -->
    <button id="config-info" class="config-btn">Info</button>

    <!-- Fila: Cuenta atrás -->
    <div class="config-row">
      <label for="countdown-select">Contrarreloj:</label>
      <select id="countdown-select" class="config-select">
        <option value="0">0&nbsp;s</option>
        <option value="1">1&nbsp;s</option>
        <option value="2">2&nbsp;s</option>
        <option value="5">5&nbsp;s</option>
        <option value="10">10&nbsp;s</option>
        <option value="15">15&nbsp;s</option>
        <option value="30">30&nbsp;s</option>
      </select>
    </div>

    <!-- Fila: Modo memoria -->
    <div class="config-row">
      <label for="memory-select">Memoria:</label>
      <select id="memory-select" class="config-select">
        <option value="0">0&nbsp;s</option>
        <option value="1">1&nbsp;s</option>
        <option value="2">2&nbsp;s</option>
        <option value="5">5&nbsp;s</option>
        <option value="10">10&nbsp;s</option>
        <option value="15">15&nbsp;s</option>
        <option value="30">30&nbsp;s</option>
      </select>
      <div class="memory-zones">
        <label><input type="checkbox" data-mzone="flop">FL</label>
        <label><input type="checkbox" data-mzone="turn">TR</label>
        <label><input type="checkbox" data-mzone="river">RV</label>
        <label><input type="checkbox" data-mzone="hero">HR</label>
        <!-- Selección aleatoria de zonas -->
        <label for="memory-random-select" style="margin-left:0.5rem;">RND:</label>
        <select id="memory-random-select" class="config-select" style="width:4rem;">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
        </select>
      </div>
    </div>

    <!-- Fila: Estilo de palos -->
    <div class="config-row">
      <label for="suit-mode-select">Estilo Palos:</label>
      <select id="suit-mode-select" class="config-select">
        <option value="RAINBOW">RAINBOW</option>
        <option value="PAIRED">PAIRED</option>
        <option value="MONO">MONO</option>
        <option value="RAND">RAND</option>
      </select>
    </div>

    <button id="exit-config" class="config-btn exit-btn">Salir</button>
  </div>

  <!-- Panel de información: aparece al pulsar el botón de info -->
  <div id="info-panel" class="outs-screen" style="display:none; text-align: left; max-width: 800px;">
    <h2>Cómo utilizar el entrenador de outs</h2>
    <p>En cada ejercicio se muestran la mano del héroe y el tablero. Selecciona las cartas que completan proyectos favorables (outs positivos) o aquellas que te perjudican (outs negativos) usando la cuadrícula inferior. Introduce la equity necesaria, al Turn o al River usando el teclado numérico. Usa los botones CALL/FOLD para tomar la decisión correcta según las pot odds.</p>
    <p>Desde la sección de configuración puedes activar el modo Turn o River, la cuenta atrás y el modo memoria, además de elegir el estilo de colores de los palos. Usa el botón de captura para copiar un resumen del ejercicio al portapapeles.</p>
    <p>También puedes editar el enunciado (bote y apuesta) haciendo clic en el texto superior. Para volver al modo de juego desde este panel, pulsa el botón Volver.</p>
    <button id="exit-info" class="config-btn exit-btn" style="margin-top: 1rem;">Volver</button>
  </div>

  <!-- Script principal -->
  <script type="module">
  import { generateBasicSpot, initHeroLock, initTextLock, initHeroEye, initRightButtons } from './outsBasic.js';

  window.addEventListener('DOMContentLoaded', () => {
    generateBasicSpot();
    initHeroLock();
    initTextLock();
    initHeroEye();
    initRightButtons();
  });
</script>

</body>
</html>
